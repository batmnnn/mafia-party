{"abi":[{"type":"constructor","inputs":[{"name":"registry_","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"advancePhase","inputs":[{"name":"lobby","type":"address","internalType":"address"},{"name":"nextPhase","type":"uint8","internalType":"enum GameTypes.Phase"},{"name":"newDeadline","type":"uint64","internalType":"uint64"},{"name":"autoAdvanceTarget","type":"uint8","internalType":"enum GameTypes.Phase"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"currentPhase","inputs":[{"name":"lobby","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint8","internalType":"enum GameTypes.Phase"}],"stateMutability":"view"},{"type":"function","name":"getPhaseState","inputs":[{"name":"lobby","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple","internalType":"struct GameTypes.PhaseState","components":[{"name":"currentPhase","type":"uint8","internalType":"enum GameTypes.Phase"},{"name":"round","type":"uint32","internalType":"uint32"},{"name":"deadline","type":"uint64","internalType":"uint64"},{"name":"scheduledPhase","type":"uint8","internalType":"enum GameTypes.Phase"},{"name":"autoAdvanceEnabled","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"isLobbyRegistered","inputs":[{"name":"lobby","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"registerLobby","inputs":[{"name":"lobby","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"registry","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"tryAutoAdvance","inputs":[{"name":"lobby","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AutoAdvanceCleared","inputs":[{"name":"lobby","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"AutoAdvanceScheduled","inputs":[{"name":"lobby","type":"address","indexed":true,"internalType":"address"},{"name":"targetPhase","type":"uint8","indexed":false,"internalType":"enum GameTypes.Phase"}],"anonymous":false},{"type":"event","name":"DeadlineScheduled","inputs":[{"name":"lobby","type":"address","indexed":true,"internalType":"address"},{"name":"deadline","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"LobbyRegistered","inputs":[{"name":"lobby","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PhaseAdvanced","inputs":[{"name":"lobby","type":"address","indexed":true,"internalType":"address"},{"name":"previousPhase","type":"uint8","indexed":false,"internalType":"enum GameTypes.Phase"},{"name":"newPhase","type":"uint8","indexed":false,"internalType":"enum GameTypes.Phase"},{"name":"round","type":"uint32","indexed":false,"internalType":"uint32"}],"anonymous":false},{"type":"error","name":"AutoAdvanceDisabled","inputs":[]},{"type":"error","name":"AutoAdvanceRequiresDeadline","inputs":[]},{"type":"error","name":"DeadlineInPast","inputs":[]},{"type":"error","name":"DeadlineNotReached","inputs":[]},{"type":"error","name":"InvalidAutoAdvanceTarget","inputs":[{"name":"currentPhase","type":"uint8","internalType":"enum GameTypes.Phase"},{"name":"targetPhase","type":"uint8","internalType":"enum GameTypes.Phase"}]},{"type":"error","name":"InvalidLobby","inputs":[]},{"type":"error","name":"InvalidRegistry","inputs":[]},{"type":"error","name":"InvalidTransition","inputs":[{"name":"currentPhase","type":"uint8","internalType":"enum GameTypes.Phase"},{"name":"nextPhase","type":"uint8","internalType":"enum GameTypes.Phase"}]},{"type":"error","name":"LobbyAlreadyRegistered","inputs":[]},{"type":"error","name":"LobbyNotRegistered","inputs":[]},{"type":"error","name":"NotRegistry","inputs":[]},{"type":"error","name":"UnauthorizedCaller","inputs":[]}],"bytecode":{"object":"0x60a060405234801561000f575f80fd5b50604051610e60380380610e6083398101604081905261002e9161006a565b60015f556001600160a01b038116610059576040516311a1e69760e01b815260040160405180910390fd5b6001600160a01b0316608052610097565b5f6020828403121561007a575f80fd5b81516001600160a01b0381168114610090575f80fd5b9392505050565b608051610da46100bc5f395f818160e1015281816102d501526104ea0152610da45ff3fe608060405234801561000f575f80fd5b506004361061007a575f3560e01c80637b103999116100585780637b103999146100dc57806397ac3b6f1461011b578063b649491f1461012e578063c2b9025714610141575f80fd5b806302b326a41461007e578063063d8382146100a7578063315b691c146100c7575b5f80fd5b61009161008c366004610bc6565b61017c565b60405161009e9190610c1a565b60405180910390f35b6100ba6100b5366004610bc6565b610256565b60405161009e9190610c73565b6100da6100d5366004610c95565b61027e565b005b6101037f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161009e565b6100da610129366004610bc6565b6103df565b6100da61013c366004610bc6565b6104df565b61016c61014f366004610bc6565b6001600160a01b03165f9081526002602052604090205460ff1690565b604051901515815260200161009e565b6040805160a0810182525f808252602082018190529181018290526060810182905260808101919091526101af826105f8565b6001600160a01b0382165f9081526001602052604090819020815160a081019092528054909190819060ff1660048111156101ec576101ec610be6565b81528254610100810463ffffffff166020830152600160281b810467ffffffffffffffff166040830152606090910190600160681b900460ff16600481111561023757610237610be6565b81529154600160701b900460ff16151560209092019190915292915050565b5f610260826105f8565b506001600160a01b03165f9081526001602052604090205460ff1690565b60025f54036102c55760405162461bcd60e51b815260206004820152600e60248201526d14915153951490539517d0d0531360921b60448201526064015b60405180910390fd5b60025f5583336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061030c5750336001600160a01b03821614155b1561032a57604051635c427cd960e01b815260040160405180910390fd5b610333856105f8565b67ffffffffffffffff8316158015906103565750428367ffffffffffffffff1611155b156103745760405163017d800b60e71b815260040160405180910390fd5b6001600160a01b0385165f9081526001602052604090206103d3868287878767ffffffffffffffff8216158015906103ce57508a60048111156103b9576103b9610be6565b8960048111156103cb576103cb610be6565b14155b610633565b505060015f5550505050565b60025f54036104215760405162461bcd60e51b815260206004820152600e60248201526d14915153951490539517d0d0531360921b60448201526064016102bc565b60025f5561042e816105f8565b6001600160a01b0381165f9081526001602052604090208054600160701b900460ff1661046e5760405163ac6dcb3d60e01b815260040160405180910390fd5b8054600160281b900467ffffffffffffffff16158061049e57508054600160281b900467ffffffffffffffff1642105b156104bc57604051633376277360e11b815260040160405180910390fd5b8054600160681b900460ff166104d68383835f8080610633565b505060015f5550565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461052857604051633217675b60e21b815260040160405180910390fd5b6001600160a01b03811661054f5760405163257c8f3360e01b815260040160405180910390fd5b6001600160a01b0381165f9081526002602052604090205460ff161561058857604051637414426d60e01b815260040160405180910390fd5b6001600160a01b0381165f818152600260209081526040808320805460ff1916600190811790915590915280822080546effffffffffffffffffffffffffffff1916815590519092917fb50c5eb2157470dc7e3f2cddab1c512e302ab70bccfe3831d99249fea38c78c091a25050565b6001600160a01b0381165f9081526002602052604090205460ff166106305760405163414eb29560e01b815260040160405180910390fd5b50565b845460ff1680600481111561064a5761064a610be6565b85600481111561065c5761065c610be6565b0361067e5780856040516305fdf05f60e31b81526004016102bc929190610cf4565b6106888186610a55565b855460ff600160701b820416908690889060ff191660018360048111156106b1576106b1610be6565b021790555060018660048111156106ca576106ca610be6565b03610753575f8260048111156106e2576106e2610be6565b036106fc57865464ffffffff001916610100178755610753565b600382600481111561071057610710610be6565b0361075357865460019088908290610734908290610100900463ffffffff16610d0f565b92506101000a81548163ffffffff021916908363ffffffff1602179055505b600486600481111561076757610767610be6565b0361081c5786546effffffffffffffffffff000000000019166001606a1b17875580156107c2576040516001600160a01b038916907f21c086c0658984899f3d792d8ea79c232c3b7d01808390fca008072f9d076d3b905f90a25b86546040516001600160a01b038a16917fffad061af71d6c3d0ab968b7c23c64da06fd50fc7c0052d7f5ba9ab7d1ca106f9161080d9186918b91610100900463ffffffff1690610d3f565b60405180910390a25050610a4d565b86546cffffffffffffffff00000000001916600160281b67ffffffffffffffff87169081029190911788556040519081526001600160a01b038916907ffbcd8c044189092c63bf91e3a726cac7542453dd265cac624ca53b819db56fde9060200160405180910390a2865460ff60701b19811688558690889061ffff60681b1916600160681b8360048111156108b4576108b4610be6565b021790555082156109bd578467ffffffffffffffff165f036108e957604051633731537160e21b815260040160405180910390fd5b8560048111156108fb576108fb610be6565b84600481111561090d5761090d610be6565b0361092f5785846040516304fa498160e11b81526004016102bc929190610cf4565b6109398685610a55565b8654600160701b60ff60701b198216811789558591899161ffff60681b1990911617600160681b83600481111561097257610972610be6565b0217905550876001600160a01b03167fb5a8653d52a9a541b80821189914de56b498a75f235eebeac859a3930b471faa856040516109b09190610c73565b60405180910390a26109f7565b80156109f7576040516001600160a01b038916907f21c086c0658984899f3d792d8ea79c232c3b7d01808390fca008072f9d076d3b905f90a25b86546040516001600160a01b038a16917fffad061af71d6c3d0ab968b7c23c64da06fd50fc7c0052d7f5ba9ab7d1ca106f91610a429186918b91610100900463ffffffff1690610d3f565b60405180910390a250505b505050505050565b5f826004811115610a6857610a68610be6565b03610aa7576001816004811115610a8157610a81610be6565b14610aa35781816040516305fdf05f60e31b81526004016102bc929190610cf4565b5050565b6001826004811115610abb57610abb610be6565b03610b35576002816004811115610ad457610ad4610be6565b14158015610af5575060035b816004811115610af257610af2610be6565b14155b8015610b1357506004816004811115610b1057610b10610be6565b14155b15610aa35781816040516305fdf05f60e31b81526004016102bc929190610cf4565b6002826004811115610b4957610b49610be6565b03610b55576003610ae0565b6003826004811115610b6957610b69610be6565b03610b75576001610ae0565b6004826004811115610b8957610b89610be6565b03610aa35781816040516305fdf05f60e31b81526004016102bc929190610cf4565b80356001600160a01b0381168114610bc1575f80fd5b919050565b5f60208284031215610bd6575f80fd5b610bdf82610bab565b9392505050565b634e487b7160e01b5f52602160045260245ffd5b60058110610c1657634e487b7160e01b5f52602160045260245ffd5b9052565b5f60a082019050610c2c828451610bfa565b63ffffffff602084015116602083015267ffffffffffffffff60408401511660408301526060830151610c626060840182610bfa565b506080928301511515919092015290565b60208101610c818284610bfa565b92915050565b803560058110610bc1575f80fd5b5f805f8060808587031215610ca8575f80fd5b610cb185610bab565b9350610cbf60208601610c87565b9250604085013567ffffffffffffffff81168114610cdb575f80fd5b9150610ce960608601610c87565b905092959194509250565b60408101610d028285610bfa565b610bdf6020830184610bfa565b63ffffffff818116838216019080821115610d3857634e487b7160e01b5f52601160045260245ffd5b5092915050565b60608101610d4d8286610bfa565b610d5a6020830185610bfa565b63ffffffff8316604083015294935050505056fea2646970667358221220fe0ae651fdb1ed7f5be9e222eec88b37ee8d9ddad2a9b5fc2c09625bccefdb8464736f6c63430008170033","sourceMap":"284:8254:8:-:0;;;2013:131;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;227:1:16;332:7;:22;-1:-1:-1;;;;;2058:23:8;;2054:53;;2090:17;;-1:-1:-1;;;2090:17:8;;;;;;;;;;;2054:53;-1:-1:-1;;;;;2117:20:8;;;284:8254;;14:290:29;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:29;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:29:o;:::-;284:8254:8;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b506004361061007a575f3560e01c80637b103999116100585780637b103999146100dc57806397ac3b6f1461011b578063b649491f1461012e578063c2b9025714610141575f80fd5b806302b326a41461007e578063063d8382146100a7578063315b691c146100c7575b5f80fd5b61009161008c366004610bc6565b61017c565b60405161009e9190610c1a565b60405180910390f35b6100ba6100b5366004610bc6565b610256565b60405161009e9190610c73565b6100da6100d5366004610c95565b61027e565b005b6101037f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161009e565b6100da610129366004610bc6565b6103df565b6100da61013c366004610bc6565b6104df565b61016c61014f366004610bc6565b6001600160a01b03165f9081526002602052604090205460ff1690565b604051901515815260200161009e565b6040805160a0810182525f808252602082018190529181018290526060810182905260808101919091526101af826105f8565b6001600160a01b0382165f9081526001602052604090819020815160a081019092528054909190819060ff1660048111156101ec576101ec610be6565b81528254610100810463ffffffff166020830152600160281b810467ffffffffffffffff166040830152606090910190600160681b900460ff16600481111561023757610237610be6565b81529154600160701b900460ff16151560209092019190915292915050565b5f610260826105f8565b506001600160a01b03165f9081526001602052604090205460ff1690565b60025f54036102c55760405162461bcd60e51b815260206004820152600e60248201526d14915153951490539517d0d0531360921b60448201526064015b60405180910390fd5b60025f5583336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061030c5750336001600160a01b03821614155b1561032a57604051635c427cd960e01b815260040160405180910390fd5b610333856105f8565b67ffffffffffffffff8316158015906103565750428367ffffffffffffffff1611155b156103745760405163017d800b60e71b815260040160405180910390fd5b6001600160a01b0385165f9081526001602052604090206103d3868287878767ffffffffffffffff8216158015906103ce57508a60048111156103b9576103b9610be6565b8960048111156103cb576103cb610be6565b14155b610633565b505060015f5550505050565b60025f54036104215760405162461bcd60e51b815260206004820152600e60248201526d14915153951490539517d0d0531360921b60448201526064016102bc565b60025f5561042e816105f8565b6001600160a01b0381165f9081526001602052604090208054600160701b900460ff1661046e5760405163ac6dcb3d60e01b815260040160405180910390fd5b8054600160281b900467ffffffffffffffff16158061049e57508054600160281b900467ffffffffffffffff1642105b156104bc57604051633376277360e11b815260040160405180910390fd5b8054600160681b900460ff166104d68383835f8080610633565b505060015f5550565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461052857604051633217675b60e21b815260040160405180910390fd5b6001600160a01b03811661054f5760405163257c8f3360e01b815260040160405180910390fd5b6001600160a01b0381165f9081526002602052604090205460ff161561058857604051637414426d60e01b815260040160405180910390fd5b6001600160a01b0381165f818152600260209081526040808320805460ff1916600190811790915590915280822080546effffffffffffffffffffffffffffff1916815590519092917fb50c5eb2157470dc7e3f2cddab1c512e302ab70bccfe3831d99249fea38c78c091a25050565b6001600160a01b0381165f9081526002602052604090205460ff166106305760405163414eb29560e01b815260040160405180910390fd5b50565b845460ff1680600481111561064a5761064a610be6565b85600481111561065c5761065c610be6565b0361067e5780856040516305fdf05f60e31b81526004016102bc929190610cf4565b6106888186610a55565b855460ff600160701b820416908690889060ff191660018360048111156106b1576106b1610be6565b021790555060018660048111156106ca576106ca610be6565b03610753575f8260048111156106e2576106e2610be6565b036106fc57865464ffffffff001916610100178755610753565b600382600481111561071057610710610be6565b0361075357865460019088908290610734908290610100900463ffffffff16610d0f565b92506101000a81548163ffffffff021916908363ffffffff1602179055505b600486600481111561076757610767610be6565b0361081c5786546effffffffffffffffffff000000000019166001606a1b17875580156107c2576040516001600160a01b038916907f21c086c0658984899f3d792d8ea79c232c3b7d01808390fca008072f9d076d3b905f90a25b86546040516001600160a01b038a16917fffad061af71d6c3d0ab968b7c23c64da06fd50fc7c0052d7f5ba9ab7d1ca106f9161080d9186918b91610100900463ffffffff1690610d3f565b60405180910390a25050610a4d565b86546cffffffffffffffff00000000001916600160281b67ffffffffffffffff87169081029190911788556040519081526001600160a01b038916907ffbcd8c044189092c63bf91e3a726cac7542453dd265cac624ca53b819db56fde9060200160405180910390a2865460ff60701b19811688558690889061ffff60681b1916600160681b8360048111156108b4576108b4610be6565b021790555082156109bd578467ffffffffffffffff165f036108e957604051633731537160e21b815260040160405180910390fd5b8560048111156108fb576108fb610be6565b84600481111561090d5761090d610be6565b0361092f5785846040516304fa498160e11b81526004016102bc929190610cf4565b6109398685610a55565b8654600160701b60ff60701b198216811789558591899161ffff60681b1990911617600160681b83600481111561097257610972610be6565b0217905550876001600160a01b03167fb5a8653d52a9a541b80821189914de56b498a75f235eebeac859a3930b471faa856040516109b09190610c73565b60405180910390a26109f7565b80156109f7576040516001600160a01b038916907f21c086c0658984899f3d792d8ea79c232c3b7d01808390fca008072f9d076d3b905f90a25b86546040516001600160a01b038a16917fffad061af71d6c3d0ab968b7c23c64da06fd50fc7c0052d7f5ba9ab7d1ca106f91610a429186918b91610100900463ffffffff1690610d3f565b60405180910390a250505b505050505050565b5f826004811115610a6857610a68610be6565b03610aa7576001816004811115610a8157610a81610be6565b14610aa35781816040516305fdf05f60e31b81526004016102bc929190610cf4565b5050565b6001826004811115610abb57610abb610be6565b03610b35576002816004811115610ad457610ad4610be6565b14158015610af5575060035b816004811115610af257610af2610be6565b14155b8015610b1357506004816004811115610b1057610b10610be6565b14155b15610aa35781816040516305fdf05f60e31b81526004016102bc929190610cf4565b6002826004811115610b4957610b49610be6565b03610b55576003610ae0565b6003826004811115610b6957610b69610be6565b03610b75576001610ae0565b6004826004811115610b8957610b89610be6565b03610aa35781816040516305fdf05f60e31b81526004016102bc929190610cf4565b80356001600160a01b0381168114610bc1575f80fd5b919050565b5f60208284031215610bd6575f80fd5b610bdf82610bab565b9392505050565b634e487b7160e01b5f52602160045260245ffd5b60058110610c1657634e487b7160e01b5f52602160045260245ffd5b9052565b5f60a082019050610c2c828451610bfa565b63ffffffff602084015116602083015267ffffffffffffffff60408401511660408301526060830151610c626060840182610bfa565b506080928301511515919092015290565b60208101610c818284610bfa565b92915050565b803560058110610bc1575f80fd5b5f805f8060808587031215610ca8575f80fd5b610cb185610bab565b9350610cbf60208601610c87565b9250604085013567ffffffffffffffff81168114610cdb575f80fd5b9150610ce960608601610c87565b905092959194509250565b60408101610d028285610bfa565b610bdf6020830184610bfa565b63ffffffff818116838216019080821115610d3857634e487b7160e01b5f52601160045260245ffd5b5092915050565b60608101610d4d8286610bfa565b610d5a6020830185610bfa565b63ffffffff8316604083015294935050505056fea2646970667358221220fe0ae651fdb1ed7f5be9e222eec88b37ee8d9ddad2a9b5fc2c09625bccefdb8464736f6c63430008170033","sourceMap":"284:8254:8:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3029:476;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;3571:167;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;4182:538::-;;;;;;:::i;:::-;;:::i;:::-;;1593:33;;;;;;;;-1:-1:-1;;;;;2438:32:29;;;2420:51;;2408:2;2393:18;1593:33:8;2274:203:29;4830:484:8;;;;;;:::i;:::-;;:::i;2244:529::-;;;;;;:::i;:::-;;:::i;2840:113::-;;;;;;:::i;:::-;-1:-1:-1;;;;;2928:18:8;2905:4;2928:18;;;:11;:18;;;;;;;;;2840:113;;;;2647:14:29;;2640:22;2622:41;;2610:2;2595:18;2840:113:8;2482:187:29;3029:476:8;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3129:24:8;3147:5;3129:17;:24::i;:::-;-1:-1:-1;;;;;3201:19:8;;3163:35;3201:19;;;:12;:19;;;;;;;3237:261;;;;;;;;3286:19;;3201;;3237:261;;;3286:19;;3237:261;;;;;;;;:::i;:::-;;;3326:12;;;;;;;3237:261;;;;-1:-1:-1;;;3362:15:8;;;;3237:261;;;;;;;;;-1:-1:-1;;;3407:21:8;;;;3237:261;;;;;;;;:::i;:::-;;;3462:25;;-1:-1:-1;;;3462:25:8;;;;3237:261;;;;;;;;;;;3230:268;-1:-1:-1;;3029:476:8:o;3571:167::-;3631:15;3658:24;3676:5;3658:17;:24::i;:::-;-1:-1:-1;;;;;;3699:19:8;;;;;:12;:19;;;;;:32;;;;3571:167::o;4182:538::-;270:1:16;409:7;;:19;401:46;;;;-1:-1:-1;;;401:46:16;;2876:2:29;401:46:16;;;2858:21:29;2915:2;2895:18;;;2888:30;-1:-1:-1;;;2934:18:29;;;2927:44;2988:18;;401:46:16;;;;;;;;;270:1;457:7;:18;4381:5:8;1915:10:::1;-1:-1:-1::0;;;;;1929:8:8::1;1915:22;;::::0;::::1;::::0;:45:::1;;-1:-1:-1::0;1941:10:8::1;-1:-1:-1::0;;;;;1941:19:8;::::1;;;1915:45;1911:78;;;1969:20;;-1:-1:-1::0;;;1969:20:8::1;;;;;;;;;;;1911:78;4398:24:::2;4416:5;4398:17;:24::i;:::-;4436:16;::::0;::::2;::::0;;::::2;::::0;:50:::2;;;4471:15;4456:11;:30;;;;4436:50;4432:79;;;4495:16;;-1:-1:-1::0;;;4495:16:8::2;;;;;;;;;;;4432:79;-1:-1:-1::0;;;;;4559:19:8;::::2;4522:34;4559:19:::0;;;:12:::2;:19;::::0;;;;4588:125:::2;4572:5:::0;4559:19;4620:9;4631:11;4644:17;4663:15:::2;::::0;::::2;::::0;;;;:49:::2;;;4703:9;4682:30;;;;;;;;:::i;:::-;:17;:30;;;;;;;;:::i;:::-;;;4663:49;4588:17;:125::i;:::-;-1:-1:-1::0;;227:1:16;496:7;:22;-1:-1:-1;;;;4182:538:8:o;4830:484::-;270:1:16;409:7;;:19;401:46;;;;-1:-1:-1;;;401:46:16;;2876:2:29;401:46:16;;;2858:21:29;2915:2;2895:18;;;2888:30;-1:-1:-1;;;2934:18:29;;;2927:44;2988:18;;401:46:16;2674:338:29;401:46:16;270:1;457:7;:18;4901:24:8::1;4919:5:::0;4901:17:::1;:24::i;:::-;-1:-1:-1::0;;;;;4972:19:8;::::1;4935:34;4972:19:::0;;;:12:::1;:19;::::0;;;;5007:24;;-1:-1:-1;;;5007:24:8;::::1;;;5002:59;;5040:21;;-1:-1:-1::0;;;5040:21:8::1;;;;;;;;;;;5002:59;5075:14:::0;;-1:-1:-1;;;5075:14:8;::::1;;;:19:::0;;:55:::1;;-1:-1:-1::0;5116:14:8;;-1:-1:-1;;;5116:14:8;::::1;;;5098:15;:32;5075:55;5071:88;;;5139:20;;-1:-1:-1::0;;;5139:20:8::1;;;;;;;;;;;5071:88;5200:20:::0;;-1:-1:-1;;;5200:20:8;::::1;;;5230:77;5248:5:::0;5200:20;;5170:27:::1;::::0;;5230:17:::1;:77::i;:::-;-1:-1:-1::0;;227:1:16;496:7;:22;-1:-1:-1;4830:484:8:o;2244:529::-;1789:10;-1:-1:-1;;;;;1803:8:8;1789:22;;1785:48;;1820:13;;-1:-1:-1;;;1820:13:8;;;;;;;;;;;1785:48;-1:-1:-1;;;;;2318:19:8;::::1;2314:46;;2346:14;;-1:-1:-1::0;;;2346:14:8::1;;;;;;;;;;;2314:46;-1:-1:-1::0;;;;;2374:18:8;::::1;;::::0;;;:11:::1;:18;::::0;;;;;::::1;;2370:55;;;2401:24;;-1:-1:-1::0;;;2401:24:8::1;;;;;;;;;;;2370:55;-1:-1:-1::0;;;;;2436:18:8;::::1;;::::0;;;:11:::1;:18;::::0;;;;;;;:25;;-1:-1:-1;;2436:25:8::1;2457:4;2436:25:::0;;::::1;::::0;;;2508:19;;;;;;2537:42;;-1:-1:-1;;2696:32:8;;;2744:22;;2508:19;;2436:18;2744:22:::1;::::0;::::1;2304:469;2244:529:::0;:::o;7240:124::-;-1:-1:-1;;;;;7310:18:8;;;;;;:11;:18;;;;;;;;7305:52;;7337:20;;-1:-1:-1;;;7337:20:8;;;;;;;;;;;7305:52;7240:124;:::o;5320:1914::-;5603:18;;;;;5635:21;;;;;;;;:::i;:::-;:9;:21;;;;;;;;:::i;:::-;;5631:72;;5683:8;5693:9;5665:38;;-1:-1:-1;;;5665:38:8;;;;;;;;;:::i;5631:72::-;5709:40;5729:8;5739:9;5709:19;:40::i;:::-;5775:24;;;-1:-1:-1;;;5775:24:8;;;;5831:9;;5775:5;;-1:-1:-1;;5810:30:8;;5831:9;5810:30;;;;;;;;:::i;:::-;;;;;-1:-1:-1;5868:19:8;5855:9;:32;;;;;;;;:::i;:::-;;5851:248;;5919:21;5907:8;:33;;;;;;;;:::i;:::-;;5903:186;;5960:15;;-1:-1:-1;;5960:15:8;;;;;5903:186;;;6012:26;6000:8;:38;;;;;;;;:::i;:::-;;5996:93;;6058:16;;6073:1;;6058:16;;6073:1;;6058:16;;6073:1;;6058:16;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;5996:93;6126:25;6113:9;:38;;;;;;;;:::i;:::-;;6109:345;;6167:18;;-1:-1:-1;;6245:48:8;-1:-1:-1;;;6245:48:8;;;6307:43;;;;6325:25;;-1:-1:-1;;;;;6325:25:8;;;;;;;;6307:43;6411:11;;6369:54;;-1:-1:-1;;;;;6369:54:8;;;;;;;6390:8;;6400:9;;6411:11;;;;;;6369:54;:::i;:::-;;;;;;;;6437:7;;;;6109:345;6464:28;;-1:-1:-1;;6464:28:8;-1:-1:-1;;;6464:28:8;;;;;;;;;;;;6507:37;;4119:50:29;;;-1:-1:-1;;;;;6507:37:8;;;;;4107:2:29;4092:18;6507:37:8;;;;;;;6555:32;;-1:-1:-1;;;;6555:32:8;;;;6620:9;;6555:5;;-1:-1:-1;;;;6597:32:8;-1:-1:-1;;;6620:9:8;6597:32;;;;;;;;:::i;:::-;;;;;;6644:17;6640:518;;;6681:11;:16;;6696:1;6681:16;6677:58;;6706:29;;-1:-1:-1;;;6706:29:8;;;;;;;;;;;6677:58;6774:9;6753:30;;;;;;;;:::i;:::-;:17;:30;;;;;;;;:::i;:::-;;6749:97;;6817:9;6828:17;6792:54;;-1:-1:-1;;;6792:54:8;;;;;;;;;:::i;6749:97::-;6860:49;6880:9;6891:17;6860:19;:49::i;:::-;6923:31;;-1:-1:-1;;;;;;;6923:31:8;;;;;;6991:17;;6923:31;;-1:-1:-1;;;;6968:40:8;;;;-1:-1:-1;;;6991:17:8;6968:40;;;;;;;;:::i;:::-;;;;;;7048:5;-1:-1:-1;;;;;7027:46:8;;7055:17;7027:46;;;;;;:::i;:::-;;;;;;;;6640:518;;;7094:7;7090:68;;;7122:25;;-1:-1:-1;;;;;7122:25:8;;;;;;;;7090:68;7215:11;;7173:54;;-1:-1:-1;;;;;7173:54:8;;;;;;;7194:8;;7204:9;;7215:11;;;;;;7173:54;:::i;:::-;;;;;;;;5566:1668;;5320:1914;;;;;;;:::o;7370:1166::-;7491:21;7478:9;:34;;;;;;;;:::i;:::-;;7474:165;;7543:19;7532:7;:30;;;;;;;;:::i;:::-;;7528:80;;7589:9;7600:7;7571:37;;-1:-1:-1;;;7571:37:8;;;;;;;;;:::i;7528:80::-;7370:1166;;:::o;7474:165::-;7666:19;7653:9;:32;;;;;;;;:::i;:::-;;7649:308;;7733:21;7722:7;:32;;;;;;;;:::i;:::-;;;:89;;;;-1:-1:-1;7785:26:8;7774:37;:7;:37;;;;;;;;:::i;:::-;;;7722:89;:145;;;;-1:-1:-1;7842:25:8;7831:7;:36;;;;;;;;:::i;:::-;;;7722:145;7701:225;;;7907:9;7918:7;7889:37;;-1:-1:-1;;;7889:37:8;;;;;;;;;:::i;7649:308::-;7984:21;7971:9;:34;;;;;;;;:::i;:::-;;7967:228;;8036:26;8025:37;;7967:228;8222:26;8209:9;:39;;;;;;;;:::i;:::-;;8205:226;;8279:19;8268:30;;8205:226;8458:25;8445:9;:38;;;;;;;;:::i;:::-;;8441:88;;8510:9;8521:7;8492:37;;-1:-1:-1;;;8492:37:8;;;;;;;;;:::i;14:173:29:-;82:20;;-1:-1:-1;;;;;131:31:29;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:186::-;251:6;304:2;292:9;283:7;279:23;275:32;272:52;;;320:1;317;310:12;272:52;343:29;362:9;343:29;:::i;:::-;333:39;192:186;-1:-1:-1;;;192:186:29:o;383:127::-;444:10;439:3;435:20;432:1;425:31;475:4;472:1;465:15;499:4;496:1;489:15;515:233;592:1;585:5;582:12;572:143;;637:10;632:3;628:20;625:1;618:31;672:4;669:1;662:15;700:4;697:1;690:15;572:143;724:18;;515:233::o;753:622::-;901:4;943:3;932:9;928:19;920:27;;956:47;993:9;984:6;978:13;956:47;:::i;:::-;1071:10;1063:4;1055:6;1051:17;1045:24;1041:41;1034:4;1023:9;1019:20;1012:71;1151:18;1143:4;1135:6;1131:17;1125:24;1121:49;1114:4;1103:9;1099:20;1092:79;1218:4;1210:6;1206:17;1200:24;1233:57;1284:4;1273:9;1269:20;1255:12;1233:57;:::i;:::-;-1:-1:-1;1360:4:29;1348:17;;;1342:24;1335:32;1328:40;1306:20;;;;1299:70;753:622;:::o;1380:200::-;1522:2;1507:18;;1534:40;1511:9;1556:6;1534:40;:::i;:::-;1380:200;;;;:::o;1585:146::-;1656:20;;1705:1;1695:12;;1685:40;;1721:1;1718;1711:12;1736:533;1841:6;1849;1857;1865;1918:3;1906:9;1897:7;1893:23;1889:33;1886:53;;;1935:1;1932;1925:12;1886:53;1958:29;1977:9;1958:29;:::i;:::-;1948:39;;2006:41;2043:2;2032:9;2028:18;2006:41;:::i;:::-;1996:51;;2097:2;2086:9;2082:18;2069:32;2141:18;2134:5;2130:30;2123:5;2120:41;2110:69;;2175:1;2172;2165:12;2110:69;2198:5;-1:-1:-1;2222:41:29;2259:2;2244:18;;2222:41;:::i;:::-;2212:51;;1736:533;;;;;;;:::o;3017:294::-;3195:2;3180:18;;3207:40;3184:9;3229:6;3207:40;:::i;:::-;3256:49;3301:2;3290:9;3286:18;3278:6;3256:49;:::i;3316:269::-;3383:10;3413;;;3425;;;3409:27;;3448:11;;;3445:134;;;3501:10;3496:3;3492:20;3489:1;3482:31;3536:4;3533:1;3526:15;3564:4;3561:1;3554:15;3445:134;;3316:269;;;;:::o;3590:380::-;3794:2;3779:18;;3806:40;3783:9;3828:6;3806:40;:::i;:::-;3855:49;3900:2;3889:9;3885:18;3877:6;3855:49;:::i;:::-;3952:10;3944:6;3940:23;3935:2;3924:9;3920:18;3913:51;3590:380;;;;;;:::o","linkReferences":{},"immutableReferences":{"3491":[{"start":225,"length":32},{"start":725,"length":32},{"start":1258,"length":32}]}},"methodIdentifiers":{"advancePhase(address,uint8,uint64,uint8)":"315b691c","currentPhase(address)":"063d8382","getPhaseState(address)":"02b326a4","isLobbyRegistered(address)":"c2b90257","registerLobby(address)":"b649491f","registry()":"7b103999","tryAutoAdvance(address)":"97ac3b6f"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"registry_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AutoAdvanceDisabled\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AutoAdvanceRequiresDeadline\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DeadlineInPast\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DeadlineNotReached\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"currentPhase\",\"type\":\"uint8\"},{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"targetPhase\",\"type\":\"uint8\"}],\"name\":\"InvalidAutoAdvanceTarget\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidLobby\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidRegistry\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"currentPhase\",\"type\":\"uint8\"},{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"nextPhase\",\"type\":\"uint8\"}],\"name\":\"InvalidTransition\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LobbyAlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LobbyNotRegistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotRegistry\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnauthorizedCaller\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"AutoAdvanceCleared\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"enum GameTypes.Phase\",\"name\":\"targetPhase\",\"type\":\"uint8\"}],\"name\":\"AutoAdvanceScheduled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"deadline\",\"type\":\"uint64\"}],\"name\":\"DeadlineScheduled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"LobbyRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"enum GameTypes.Phase\",\"name\":\"previousPhase\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"enum GameTypes.Phase\",\"name\":\"newPhase\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"round\",\"type\":\"uint32\"}],\"name\":\"PhaseAdvanced\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"},{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"nextPhase\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"newDeadline\",\"type\":\"uint64\"},{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"autoAdvanceTarget\",\"type\":\"uint8\"}],\"name\":\"advancePhase\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"currentPhase\",\"outputs\":[{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"getPhaseState\",\"outputs\":[{\"components\":[{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"currentPhase\",\"type\":\"uint8\"},{\"internalType\":\"uint32\",\"name\":\"round\",\"type\":\"uint32\"},{\"internalType\":\"uint64\",\"name\":\"deadline\",\"type\":\"uint64\"},{\"internalType\":\"enum GameTypes.Phase\",\"name\":\"scheduledPhase\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"autoAdvanceEnabled\",\"type\":\"bool\"}],\"internalType\":\"struct GameTypes.PhaseState\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"isLobbyRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"registerLobby\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"registry\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"lobby\",\"type\":\"address\"}],\"name\":\"tryAutoAdvance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"advancePhase(address,uint8,uint64,uint8)\":{\"params\":{\"autoAdvanceTarget\":\"The phase to automatically transition into once the deadline elapses (ignored when zero deadline).\",\"lobby\":\"The lobby whose phase is being advanced.\",\"newDeadline\":\"The UNIX timestamp when the phase should expire (0 to clear).\",\"nextPhase\":\"The phase to transition into.\"}}},\"title\":\"PhaseEngine\",\"version\":1},\"userdoc\":{\"events\":{\"AutoAdvanceCleared(address)\":{\"notice\":\"Emitted when an existing auto-advance schedule is cleared.\"},\"AutoAdvanceScheduled(address,uint8)\":{\"notice\":\"Emitted when an auto-advance target is configured.\"},\"DeadlineScheduled(address,uint64)\":{\"notice\":\"Emitted when a deadline is (re)scheduled for a lobby.\"},\"LobbyRegistered(address)\":{\"notice\":\"Emitted when a lobby is registered with the engine.\"},\"PhaseAdvanced(address,uint8,uint8,uint32)\":{\"notice\":\"Emitted whenever a lobby transitions to a new phase.\"}},\"kind\":\"user\",\"methods\":{\"advancePhase(address,uint8,uint64,uint8)\":{\"notice\":\"Manually advances a lobby to the next phase, optionally scheduling an auto-advance.\"},\"currentPhase(address)\":{\"notice\":\"Returns the current phase enum for a lobby.\"},\"getPhaseState(address)\":{\"notice\":\"Fetches the current phase state snapshot for a lobby.\"},\"isLobbyRegistered(address)\":{\"notice\":\"Returns whether a lobby has been registered.\"},\"registerLobby(address)\":{\"notice\":\"Registers a lobby with the phase engine. Must be called once by the registry.\"},\"tryAutoAdvance(address)\":{\"notice\":\"Attempts to auto-advance a lobby if the deadline has elapsed and a target is scheduled.\"}},\"notice\":\"Manages the per-lobby phase machine, deadlines, and optional auto-advance scheduling.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PhaseEngine.sol\":\"PhaseEngine\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/GameTypes.sol\":{\"keccak256\":\"0xfe4482b474deb8c1e788a5fb2600a7fbbc40d4c7a4c3e3ce9bbafdbe5ed6352a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://79957b4acc23d48aee896d10b29d02a5a6866ff5dea0655b5d5cbbc9a1b9aad0\",\"dweb:/ipfs/QmRHUt2rBMsr1XFJ1zNbxaF8AGnySMYDrtFZRnxRHp94sA\"]},\"src/PhaseEngine.sol\":{\"keccak256\":\"0x8cd08656ed30248867a0076ea85d8212be555b9d7e991eaf0f64dc0106701430\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f66d2ea223399412b31f68c9b01349b87f5bf12b69af49640beb4493f24c446e\",\"dweb:/ipfs/Qmb2k8NecassLVWF69Xr8nuYvJ2E759Zgi2MA3T2rt2df5\"]},\"src/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x7104bb40ae00ea1906f30f7b1a7a217ffbc8f923ae8bd4593f90693391e5e5a6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://316f4cd2199853b827bb8b71eb2c309695e8f448d362b04be6883fe39e98ad6b\",\"dweb:/ipfs/QmfJzKGMKk6aDJBvequq1nyAvRsFP5s566LDQr6te9N3nk\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"registry_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AutoAdvanceDisabled"},{"inputs":[],"type":"error","name":"AutoAdvanceRequiresDeadline"},{"inputs":[],"type":"error","name":"DeadlineInPast"},{"inputs":[],"type":"error","name":"DeadlineNotReached"},{"inputs":[{"internalType":"enum GameTypes.Phase","name":"currentPhase","type":"uint8"},{"internalType":"enum GameTypes.Phase","name":"targetPhase","type":"uint8"}],"type":"error","name":"InvalidAutoAdvanceTarget"},{"inputs":[],"type":"error","name":"InvalidLobby"},{"inputs":[],"type":"error","name":"InvalidRegistry"},{"inputs":[{"internalType":"enum GameTypes.Phase","name":"currentPhase","type":"uint8"},{"internalType":"enum GameTypes.Phase","name":"nextPhase","type":"uint8"}],"type":"error","name":"InvalidTransition"},{"inputs":[],"type":"error","name":"LobbyAlreadyRegistered"},{"inputs":[],"type":"error","name":"LobbyNotRegistered"},{"inputs":[],"type":"error","name":"NotRegistry"},{"inputs":[],"type":"error","name":"UnauthorizedCaller"},{"inputs":[{"internalType":"address","name":"lobby","type":"address","indexed":true}],"type":"event","name":"AutoAdvanceCleared","anonymous":false},{"inputs":[{"internalType":"address","name":"lobby","type":"address","indexed":true},{"internalType":"enum GameTypes.Phase","name":"targetPhase","type":"uint8","indexed":false}],"type":"event","name":"AutoAdvanceScheduled","anonymous":false},{"inputs":[{"internalType":"address","name":"lobby","type":"address","indexed":true},{"internalType":"uint64","name":"deadline","type":"uint64","indexed":false}],"type":"event","name":"DeadlineScheduled","anonymous":false},{"inputs":[{"internalType":"address","name":"lobby","type":"address","indexed":true}],"type":"event","name":"LobbyRegistered","anonymous":false},{"inputs":[{"internalType":"address","name":"lobby","type":"address","indexed":true},{"internalType":"enum GameTypes.Phase","name":"previousPhase","type":"uint8","indexed":false},{"internalType":"enum GameTypes.Phase","name":"newPhase","type":"uint8","indexed":false},{"internalType":"uint32","name":"round","type":"uint32","indexed":false}],"type":"event","name":"PhaseAdvanced","anonymous":false},{"inputs":[{"internalType":"address","name":"lobby","type":"address"},{"internalType":"enum GameTypes.Phase","name":"nextPhase","type":"uint8"},{"internalType":"uint64","name":"newDeadline","type":"uint64"},{"internalType":"enum GameTypes.Phase","name":"autoAdvanceTarget","type":"uint8"}],"stateMutability":"nonpayable","type":"function","name":"advancePhase"},{"inputs":[{"internalType":"address","name":"lobby","type":"address"}],"stateMutability":"view","type":"function","name":"currentPhase","outputs":[{"internalType":"enum GameTypes.Phase","name":"","type":"uint8"}]},{"inputs":[{"internalType":"address","name":"lobby","type":"address"}],"stateMutability":"view","type":"function","name":"getPhaseState","outputs":[{"internalType":"struct GameTypes.PhaseState","name":"","type":"tuple","components":[{"internalType":"enum GameTypes.Phase","name":"currentPhase","type":"uint8"},{"internalType":"uint32","name":"round","type":"uint32"},{"internalType":"uint64","name":"deadline","type":"uint64"},{"internalType":"enum GameTypes.Phase","name":"scheduledPhase","type":"uint8"},{"internalType":"bool","name":"autoAdvanceEnabled","type":"bool"}]}]},{"inputs":[{"internalType":"address","name":"lobby","type":"address"}],"stateMutability":"view","type":"function","name":"isLobbyRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"lobby","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"registerLobby"},{"inputs":[],"stateMutability":"view","type":"function","name":"registry","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"lobby","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"tryAutoAdvance"}],"devdoc":{"kind":"dev","methods":{"advancePhase(address,uint8,uint64,uint8)":{"params":{"autoAdvanceTarget":"The phase to automatically transition into once the deadline elapses (ignored when zero deadline).","lobby":"The lobby whose phase is being advanced.","newDeadline":"The UNIX timestamp when the phase should expire (0 to clear).","nextPhase":"The phase to transition into."}}},"version":1},"userdoc":{"kind":"user","methods":{"advancePhase(address,uint8,uint64,uint8)":{"notice":"Manually advances a lobby to the next phase, optionally scheduling an auto-advance."},"currentPhase(address)":{"notice":"Returns the current phase enum for a lobby."},"getPhaseState(address)":{"notice":"Fetches the current phase state snapshot for a lobby."},"isLobbyRegistered(address)":{"notice":"Returns whether a lobby has been registered."},"registerLobby(address)":{"notice":"Registers a lobby with the phase engine. Must be called once by the registry."},"tryAutoAdvance(address)":{"notice":"Attempts to auto-advance a lobby if the deadline has elapsed and a target is scheduled."}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/PhaseEngine.sol":"PhaseEngine"},"evmVersion":"shanghai","libraries":{}},"sources":{"src/GameTypes.sol":{"keccak256":"0xfe4482b474deb8c1e788a5fb2600a7fbbc40d4c7a4c3e3ce9bbafdbe5ed6352a","urls":["bzz-raw://79957b4acc23d48aee896d10b29d02a5a6866ff5dea0655b5d5cbbc9a1b9aad0","dweb:/ipfs/QmRHUt2rBMsr1XFJ1zNbxaF8AGnySMYDrtFZRnxRHp94sA"],"license":"MIT"},"src/PhaseEngine.sol":{"keccak256":"0x8cd08656ed30248867a0076ea85d8212be555b9d7e991eaf0f64dc0106701430","urls":["bzz-raw://f66d2ea223399412b31f68c9b01349b87f5bf12b69af49640beb4493f24c446e","dweb:/ipfs/Qmb2k8NecassLVWF69Xr8nuYvJ2E759Zgi2MA3T2rt2df5"],"license":"MIT"},"src/utils/ReentrancyGuard.sol":{"keccak256":"0x7104bb40ae00ea1906f30f7b1a7a217ffbc8f923ae8bd4593f90693391e5e5a6","urls":["bzz-raw://316f4cd2199853b827bb8b71eb2c309695e8f448d362b04be6883fe39e98ad6b","dweb:/ipfs/QmfJzKGMKk6aDJBvequq1nyAvRsFP5s566LDQr6te9N3nk"],"license":"MIT"}},"version":1},"id":8}